<!doctype html>
<html lang="en">

    <head>
        {{> header}}
        <title>Chalk-Up</title>
        <link rel="stylesheet" href="/css/style.css">

    </head>
    
    <body>

    <div id="dataPageCont">

       {{> navHeader}}

        <div id = "mainCont">

            <div id="totalStatsCont">
                <h1 class="statsTitle" id="totalStatsTitle">Total Stats</h1>

                <div class="dataRowCont" id="totalSessRoutesCont">
                    <div class="dataRow" id="totalSessCont">
                        <h2 class="dataInputValue">{{totalSessions}}</h2>
                        <h3 class="dataInputLabel">Sessions</h3>
                    </div>
                    <div class="dataRow" id="totalRouteCont">
                        <h2 class="dataInputValue">{{totalRoutes}}</h2>
                        <h3 class="dataInputLabel">Routes</h3>
                    </div>
                </div>

                <label class="rowLabel">Time</label>
                <div class="dataRowCont" id="totalTimeCont">
                    <div class="dataRow" id="longestTimeCont">
                        <h2 class="dataInputValue">{{longestTime}}</h2>
                        <h3 class="dataInputLabel">Longest</h3>
                    </div>
                    <div class="dataRow" id="shortestTimeCont">
                        <h2 class="dataInputValue">{{shortestTime}}</h2>
                        <h3 class="dataInputLabel">Shortest</h3>
                    </div>
                    <div class="dataRow" id="avgTimeCont">
                        <h2 class="dataInputValue">{{avgTime}}</h2>
                        <h3 class="dataInputLabel">Avg</h3>
                    </div>
                </div>

                <label class="rowLabel">Route Grade</label>
                <div class="dataRowCont" id="gradesCont">
                    <div class="dataRow" id="highestGradeCont">
                        <h2 class="dataInputValue">5.{{highestGrade}}</h2>
                        <h3 class="dataInputLabel">Highest</h3>
                    </div>
                    <div class="dataRow" id="avgGradeCont">
                        <h2 class="dataInputValue">5.{{avgGrade}}</h2>
                        <h3 class="dataInputLabel">Avg</h3>
                    </div>
                </div>

                <label class="rowLabel">Routes Completed</label>
                <div class="dataRowCont" id="completedCont">
                    <div class="dataRow" id="percentCont">
                        <h2 class="dataInputValue">{{percentageSent}}%</h2>
                    </div>
                    
                </div>

            </div>

            
            <div id='monthStatsCont'>

                <div id="MonthStatsTitle">
                    <h1 class="statsTitle" id ="data-monthly-stats">This Month</h1>
                </div>

                <div id="monthStatsDataCont">
                    <section id = "data-averages">
                        <div class = "monthly-stats-container">
                            <div class = "monthly-stats-value">{{sessionsThisMonth}}</div>
                            <label class = "stats-title">Sessions</label>
                        </div>

                        <div class = "monthly-stats-container">
                            <div class = "monthly-stats-value">{{routesThisMonth}}</div>
                            <label class = "stats-title">Routes</label>
                        </div>

                        <div class = "monthly-stats-container">
                            <div class = "monthly-stats-value">5.{{highestGradeMonth}}</div>
                            <label class = "stats-title">Highest Grade</label>
                        </div>

                        <div class = "monthly-stats-container">
                            <div class = "monthly-stats-value">5.{{avgGradeMonth}}</div>
                            <label class = "stats-title">Avg Grade</label>
                        </div>
                    </section>
                </div>
            </div>

            <div id='allRoutesCont'>

                <div id="allRoutesTitleCont">
                    <h1 class = "statsTitle">All Routes</h1>
                </div>

                {{# userRoutes}}

                    <div class = "data-item">
                        <section class = "data-header">
                            <div class='routeName routeColor-{{color}}' style="background: {{color}}">
                                <h2>{{name}}</h2>
                            </div>
                            <div class = "date-edit-delete-cont">
                                <div>10/19/2020</div>
                                <section class = "data-edit-delete">
                                    <a href = "/users/edit/route/{{id}}">
                                        <button class ="route-edit"><i class="fas fa-edit">Edit</i></button>
                                    </a>
                                    <form method = "POST" action = "/users/delete-route">
                                        <input type = "hidden" value={{id}} name = "id">
                                        <input type = "hidden" value={{session_Id}} name = "sessionid">
                                        <button class = "route-delete"><i class="fas fa-trash"></i></button>    
                                    </form>
                                </section>
                            </div>
                            
                        </section>
                        
                        <section class = "data-information">
                            <section id = "data-grade">
                                <div>{{grade}}</div>
                                <label id = "grade-label">Grade</label>
                            </section>
                            <section class = "dataCategories">
                                <div class="dataInfo">rating: {{rating}} stars</div>
                                <div class="dataInfo">attempts: {{attempts}}</div>
                                <div class="dataInfo sentCont">sent: <span class="sentBool-{{sent}}">{{sent}}</span></div>
                            </section>
                            <section id = "data-time">
                                <div id = "time-value">1:35</div>
                                <label id = "time-label">Time</label>
                            </section>
                        </section>

                    </div>

                {{/ userRoutes}}

            </div>

         </div>




        {{> navbar}}

    </div>


       <script src='../js/users-data.js'></script>
    </body>
</html>